"use strict";(self.webpackChunkaduasis_docs=self.webpackChunkaduasis_docs||[]).push([[8034],{160:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>t});var a=i(5893),o=i(1151);const r={},s="\u2699\ufe0f API YMS GraphQL",l={id:"documentacion/productos/api-yms",title:"\u2699\ufe0f API YMS GraphQL",description:"Ir al repositorio en Github (Es necesario tener permisos)",source:"@site/doc/documentacion/productos/13-api-yms.md",sourceDirName:"documentacion/productos",slug:"/documentacion/productos/api-yms",permalink:"/docs/documentacion/productos/api-yms",draft:!1,unlisted:!1,editUrl:"https://github.com/aduasis-logistica/aduasis-logistica.github.io/tree/main/doc/documentacion/productos/13-api-yms.md",tags:[],version:"current",sidebarPosition:13,frontMatter:{},sidebar:"documentacionSidebar",previous:{title:"\ud83d\udce6 WMS M\xf3vil",permalink:"/docs/documentacion/productos/app-wms"},next:{title:"Configuraci\xf3n de IIS",permalink:"/docs/documentacion/clientes/uber/configurar-iis"}},c={},t=[{value:"\u2139\ufe0f \xbfQu\xe9 es?",id:"\u2139\ufe0f-qu\xe9-es",level:2},{value:"\ud83d\udcbf Instalaci\xf3n",id:"-instalaci\xf3n",level:2},{value:"Configurar ruta de conexi\xf3n a la BD",id:"configurar-ruta-de-conexi\xf3n-a-la-bd",level:3},{value:"Configurar puertos de ejecuci\xf3n del API",id:"configurar-puertos-de-ejecuci\xf3n-del-api",level:3},{value:"Configura la ruta del API en el YMS",id:"configura-la-ruta-del-api-en-el-yms",level:3},{value:"\xbfC\xf3mo s\xe9 que el API est\xe1 funcionando?",id:"c\xf3mo-s\xe9-que-el-api-est\xe1-funcionando",level:3},{value:"\ud83d\ude80 Compilar y despegar",id:"-compilar-y-despegar",level:2}];function d(e){const n={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"\ufe0f-api-yms-graphql",children:"\u2699\ufe0f API YMS GraphQL"}),"\n",(0,a.jsx)(n.admonition,{title:"Enlace a repositorio",type:"info",children:(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://github.com/aduasis-logistica/api-yms",children:"Ir al repositorio en Github (Es necesario tener permisos)"})})}),"\n",(0,a.jsxs)(i,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)(n.strong,{children:"\ud83e\uddea Stack tecnol\xf3gico"})}),(0,a.jsx)(n.p,{children:"Lenguajes de programaci\xf3n:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"C# Net Core 5.0"}),"\n"]}),(0,a.jsx)(n.p,{children:"IDEs/Editores recomendados:"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Visual Studio"}),"\n"]}),(0,a.jsx)(n.p,{children:"\xbfQu\xe9 necesito saber?"}),(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Hotchocolate es la utileria para desarrollar el API con GrpaphQL"}),"\n",(0,a.jsx)(n.li,{children:"El m\xe9todo de autenticaci\xf3n es por medio de JWT"}),"\n"]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Pendientes",type:"danger",children:(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Cambiar el acceso a el JWT key a variables de entorno y eliminar todo rastro de este en Github a pesar de que sean repositorios privados."}),"\n",(0,a.jsx)(n.li,{children:"Cambiar el acceso a el connection string de las bd escritas en el archivo de configuracion a variables de entorno y eliminar todo rastro de este en Github a pesar de ser repositorios privados."}),"\n"]})}),"\n",(0,a.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/17/GraphQL_Logo.svg/1200px-GraphQL_Logo.svg.png",alt:"Logo",width:"80",height:"80"}),"\n",(0,a.jsx)(n.h2,{id:"\u2139\ufe0f-qu\xe9-es",children:"\u2139\ufe0f \xbfQu\xe9 es?"}),"\n",(0,a.jsx)(n.p,{children:"Es la API utilizada por la aplicaci\xf3n m\xf3vil del YMS y del WMS para interactuar con la base de datos y l\xf3gica del negocio."}),"\n",(0,a.jsx)(n.h2,{id:"-instalaci\xf3n",children:"\ud83d\udcbf Instalaci\xf3n"}),"\n",(0,a.jsx)(n.p,{children:"Requisitos:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Visual Studio"}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://dotnet.microsoft.com/en-us/download/dotnet/5.0",children:"NetCore 5.0"})}),"\n",(0,a.jsx)(n.li,{children:"SQL Server ManagmentStudio"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Para la ejecuci\xf3n del API posterior a bajar el repositorio y configurar la base de datos de aduasis, es necesario realizar modificaciones ",(0,a.jsx)(n.strong,{children:"locales"})," a las rutas de configuraci\xf3n especificadas en la soluci\xf3n ",(0,a.jsx)(n.em,{children:"(no usar\xe1s las rutas y credenciales de producci\xf3n, si no las locales)"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"configurar-ruta-de-conexi\xf3n-a-la-bd",children:"Configurar ruta de conexi\xf3n a la BD"}),"\n",(0,a.jsxs)(n.p,{children:["Ubica en el explorador de soluciones el archivo ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"'src/API/appsettings.json'"})}),". En la cadena de conexi\xf3n llamada ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"SqlServerConnectionString"})}),", coloca las credenciales de tu base de datos local."]}),"\n",(0,a.jsx)(n.h3,{id:"configurar-puertos-de-ejecuci\xf3n-del-api",children:"Configurar puertos de ejecuci\xf3n del API"}),"\n",(0,a.jsxs)(n.p,{children:["Es necesario reemplazar los puertos de conexi\xf3n del servidor IIS y del API. Ubica en el explorador de soluciones el archivo ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"'src/API/properties/launchSettings.json'"})}),". Dentro del json encontraras la cadena llamada ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.strong,{children:"applicationUrl"})})," tanto para el IIS como para el API; \xe9stas contar\xe1n con una direcci\xf3n IP est\xe1tica, reemplazala por ",(0,a.jsx)(n.em,{children:"localhost"})," y utiliza los puertos de prueba recomendados:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Puerto 8080 para el IIS"}),"\n",(0,a.jsx)(n.li,{children:"Puerto 5001 y 5000 para el API"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"configura-la-ruta-del-api-en-el-yms",children:"Configura la ruta del API en el YMS"}),"\n",(0,a.jsx)(n.p,{children:"Ahora es necesario que cambies la ruta de conexi\xf3n en el proyecto YMS."}),"\n",(0,a.jsx)(n.h3,{id:"c\xf3mo-s\xe9-que-el-api-est\xe1-funcionando",children:"\xbfC\xf3mo s\xe9 que el API est\xe1 funcionando?"}),"\n",(0,a.jsxs)(n.p,{children:["Cuando hayas realizado las configuraciones necesarias, entonces compila el proyecto seleccionando entre las opciones del men\xfa desplegable, la opci\xf3n llamada ",(0,a.jsx)(n.em,{children:"API"}),". Si seguiste nuestras recomendaciones, encontrar\xe1s un manejador de peticiones a GraphQL en la ruta ",(0,a.jsx)(n.em,{children:(0,a.jsx)(n.a,{href:"https://localhost:5001/graphql/",children:"https://localhost:5001/graphql/"})}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"-compilar-y-despegar",children:"\ud83d\ude80 Compilar y despegar"}),"\n",(0,a.jsx)(n.p,{children:"Vease el siguiente tutorial para entender el proceso de compilado y despliegue en IIS:"}),"\n",(0,a.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/lEv7aEdUnQ0?si=z6FA3JcU7qTM2k8H",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0})]})}function u(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>l,a:()=>s});var a=i(7294);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);