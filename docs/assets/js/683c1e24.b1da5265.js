"use strict";(self.webpackChunkaduasis_docs=self.webpackChunkaduasis_docs||[]).push([[6418],{8517:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var i=n(5893),r=n(1151);const o={},d="\ud83d\uddc3 Digitalizador",s={id:"documentacion/productos/digitalizador",title:"\ud83d\uddc3 Digitalizador",description:"Ir al repositorio en Github (Es necesario tener permisos)",source:"@site/doc/documentacion/productos/1-digitalizador.md",sourceDirName:"documentacion/productos",slug:"/documentacion/productos/digitalizador",permalink:"/docs/documentacion/productos/digitalizador",draft:!1,unlisted:!1,editUrl:"https://github.com/aduasis-logistica/aduasis-logistica.github.io/tree/main/doc/documentacion/productos/1-digitalizador.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"documentacionSidebar",previous:{title:"\ud83d\udcd6 Introducci\xf3n",permalink:"/docs/documentacion/introduccion"},next:{title:"\ud83d\udda8 API Jaspers",permalink:"/docs/documentacion/productos/api-reportes-jasper"}},c={},l=[{value:"\u2139\ufe0f \xbfQu\xe9 es?",id:"\u2139\ufe0f-qu\xe9-es",level:2},{value:"\ud83d\udcc3 Funcionamiento",id:"-funcionamiento",level:3},{value:"\ud83d\udcc3 Bit\xe1cora",id:"-bit\xe1cora",level:3},{value:"Campos oc_pedimento_pago",id:"campos-oc_pedimento_pago",level:4},{value:"Campos del identificador",id:"campos-del-identificador",level:4},{value:"Campos de estatus",id:"campos-de-estatus",level:4},{value:"\ud83d\udcc3 DigArchivo",id:"-digarchivo",level:3},{value:"\ud83d\udcc3 Regenerar documento",id:"-regenerar-documento",level:3},{value:"\ud83d\udcbf Instalaci\xf3n",id:"-instalaci\xf3n",level:2},{value:"\ud83d\udcc3 Manejo del entorno virtual en python",id:"-manejo-del-entorno-virtual-en-python",level:3},{value:"\ud83d\udd28 Compilaci\xf3n",id:"-compilaci\xf3n",level:2},{value:"\ud83d\ude80 Despliegue",id:"-despliegue",level:2},{value:"\ud83d\udcc3 Habilitar Bouncy Castle para firmado de documentos",id:"-habilitar-bouncy-castle-para-firmado-de-documentos",level:3},{value:"\ud83d\udcc3 Variables de entorno",id:"-variables-de-entorno",level:3},{value:"\ud83d\udcc3 Archivo de configuraci\xf3n",id:"-archivo-de-configuraci\xf3n",level:3},{value:"\ud83d\udcc3 Instalaci\xf3n de acuerdo a modo",id:"-instalaci\xf3n-de-acuerdo-a-modo",level:3},{value:"Consola",id:"consola",level:4},{value:"Windows service",id:"windows-service",level:4}];function t(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{Details:n}=a;return n||function(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.h1,{id:"-digitalizador",children:"\ud83d\uddc3 Digitalizador"}),"\n",(0,i.jsx)(a.admonition,{title:"Enlace a repositorio",type:"info",children:(0,i.jsx)(a.p,{children:(0,i.jsx)(a.a,{href:"https://github.com/aduasis-logistica/app-digitalizador",children:"Ir al repositorio en Github (Es necesario tener permisos)"})})}),"\n",(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(a.strong,{children:"\ud83e\uddea Stack tecnol\xf3gico"})}),(0,i.jsx)(a.p,{children:"Lenguajes de programaci\xf3n:"}),(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Python 3.8.2"}),"\n"]}),(0,i.jsx)(a.p,{children:"IDEs/Editores recomendados:"}),(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Pycharm community Edition"}),"\n",(0,i.jsx)(a.li,{children:"Visualstudio code"}),"\n"]}),(0,i.jsx)(a.p,{children:"\xbfQu\xe9 necesito saber?"}),(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"La librer\xeda para hacer peticiones SOAP es Zeep"}),"\n",(0,i.jsx)(a.li,{children:"La librer\xeda para hacer pruebas es Pytest"}),"\n",(0,i.jsx)(a.li,{children:"La lbireri\xeda para guardar logs es loguru"}),"\n"]})]}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)("img",{src:"https://i.imgur.com/CGJkodI.png",style:{width:50}})}),"\n",(0,i.jsx)(a.h2,{id:"\u2139\ufe0f-qu\xe9-es",children:"\u2139\ufe0f \xbfQu\xe9 es?"}),"\n",(0,i.jsxs)(a.p,{children:["Entiendase como ",(0,i.jsx)(a.strong,{children:"digitalizar"})," al proceso por el cual tiene que pasar un documento para ser generado y a\r\n",(0,i.jsx)(a.strong,{children:"digitalizador"})," como al conjunto de softwares, algoritmos o tecnolog\xedas utilizadas para lograr el proceso de digitalizado."]}),"\n",(0,i.jsx)(a.admonition,{title:"AVISO",type:"caution",children:(0,i.jsx)(a.p,{children:"La documentaci\xf3n descrita a continuaci\xf3n hace referencia al nuevo digitalizador y no al digitalizador desarrollado en power builder."})}),"\n",(0,i.jsxs)(a.p,{children:["Por cada documento existe un ",(0,i.jsx)(a.strong,{children:"digitalizador concreto"})," encargado del proceso para generarlo."]}),"\n",(0,i.jsx)(a.mermaid,{value:"flowchart TD\r\n    Digitalizador --\x3e DigitalizadorCove\r\n    Digitalizador --\x3e DigitalizadorPedimentoCompleto\r\n    Digitalizador --\x3e DigitalizadorAcuseCove"}),"\n",(0,i.jsx)(a.p,{children:"El digitalizador tiene dos formas de generar documentos:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"A partir del consumo de un web service independiente a Aduasis (VUCEM)."}),"\n",(0,i.jsx)(a.li,{children:"A partir de un reporte propio de Aduasis tipo Jasper consultando un API hecha por Aduasis."}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"-funcionamiento",children:"\ud83d\udcc3 Funcionamiento"}),"\n",(0,i.jsx)(a.p,{children:"A grandes rasgos, el digitalizador es un proceso ejecutado en el background en forma de servicio\r\nde windows, el cual es apoyado de un archivo de configuraci\xf3n tipo YAML en donde se espec\xedfican\r\nparametros como la cadena de conexi\xf3n a la base de datos, par\xe1metros para la consulta\r\na los web services, opci\xf3n para apagar y encender digitalizadores y opciones para el guardado\r\nde logs."}),"\n",(0,i.jsx)(a.p,{children:"El diagrama de secuencia ser\xeda el siguiente:"}),"\n",(0,i.jsx)(a.mermaid,{value:"    sequenceDiagram\r\n        \r\n        participant Digitalizador\r\n        participant DigitalizadorConcreto\r\n        participant SQL Server\r\n        participant Web Service\r\n        participant Servidor de archivos\r\n\r\n        loop Mientras el servicio de windows se encuentre activo\r\n            Digitalizador->>Digitalizador: Carga archivo de configuracion <br> [config.yaml]\r\n\r\n            loop Por cada digitalizador concreto activo\r\n                Digitalizador->>DigitalizadorConcreto: Crear instancia\r\n                DigitalizadorConcreto->>SQL Server: Inserta nuevas referencias <br> en bitacora con up_digitalizadorBitacoraBarrido \r\n                DigitalizadorConcreto->>SQL Server: Consulta de referencias en digitalizador_bitacora\r\n                SQL Server->>DigitalizadorConcreto: Devuelve referencias\r\n\r\n                loop Por cada referencia encontrada\r\n                    DigitalizadorConcreto->>DigitalizadorConcreto: Crear una petici\xf3n con <br> la informaci\xf3n de la referencia\r\n                    DigitalizadorConcreto->>Web Service: Crear una consulta espec\xedfica <br> que entienda un web service o el <br> generador de reportes jasper\r\n                    Web Service->>DigitalizadorConcreto: Retorna una respuesta\r\n                    DigitalizadorConcreto->>SQL Server: Consulta datos de digitalizado <br> (secuencial, nombre, ruta, etc.)\r\n                    DigitalizadorConcreto->>Servidor de archivos: Guarda el documento\r\n                    DigitalizadorConcreto->>SQL Server: Guardar referencia en dig_archivo <br> con [up_digitalizadorGuardado] \r\n                end\r\n\r\n            end\r\n        end"}),"\n",(0,i.jsx)(a.h3,{id:"-bit\xe1cora",children:"\ud83d\udcc3 Bit\xe1cora"}),"\n",(0,i.jsx)(a.p,{children:"La tabla digitalizador_bitacora es el origen de las referencias que el digitalizador considerar\xe1 para el proceso de digitalizaci\xf3n."}),"\n",(0,i.jsx)(a.p,{children:"La estructura es la siguiente:"}),"\n",(0,i.jsx)(a.mermaid,{value:" classDiagram\r\n    direction RL\r\n        class digitalizador_bitacora{\r\n           [PK] VARCHAR[6] : id_cliente\r\n           [PK] CHAR[1] : id_tipo_operacion\r\n           [PK] VARCHAR[10] : id_referencia\r\n           [PK] INT : id_rectificacion\r\n           [PK] VARCHAR[100] : identificador\r\n           [PK] SMALLINT : id_documento\r\n            DATETIME : fecha_ingreso\r\n            SMALLINT : intentos \r\n            BIT : completado\r\n            DATETIME : fecha_cargado\r\n            INT : id_error\r\n            BIT : existente_en_disco\r\n        }"}),"\n",(0,i.jsx)(a.h4,{id:"campos-oc_pedimento_pago",children:"Campos oc_pedimento_pago"}),"\n",(0,i.jsx)(a.p,{children:"La bitacora se relaciona con oc_pedimento_pago por medio de los siguientes campos: id_cliente, id_tipo_operacion, id_referencia e id_rectificacion.\r\nDicha relaci\xf3n servir\xe1 para relacionar los documentos digitalizados a ese pedimento en portal."}),"\n",(0,i.jsx)(a.h4,{id:"campos-del-identificador",children:"Campos del identificador"}),"\n",(0,i.jsx)(a.p,{children:"El valor del identificador puede variar dependiendo del id_documento establecido en el registro de la bitacora."}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{children:"Id"}),(0,i.jsx)(a.th,{children:"Documento"}),(0,i.jsx)(a.th,{children:"Identificador"})]})}),(0,i.jsxs)(a.tbody,{children:[(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"77"}),(0,i.jsx)(a.td,{children:"Cove XML"}),(0,i.jsx)(a.td,{children:"COVE"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"76"}),(0,i.jsx)(a.td,{children:"Pedimento completo"}),(0,i.jsx)(a.td,{children:"Pedimento#Aduana#Patente"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"73"}),(0,i.jsx)(a.td,{children:"Acuse EDocument PDF"}),(0,i.jsx)(a.td,{children:"EDocument"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"72"}),(0,i.jsx)(a.td,{children:"Acuse Cove PDF"}),(0,i.jsx)(a.td,{children:"Cove"})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"25"}),(0,i.jsx)(a.td,{children:"Cove PDF"}),(0,i.jsx)(a.td,{children:"Cove"})]})]})]}),"\n",(0,i.jsx)(a.admonition,{title:"recomendaci\xf3n",type:"tip",children:(0,i.jsx)(a.p,{children:"Para el manejo de identificadores separados por '#' se puede hacer uso de la funcion obtener_parametro, dando como argumentos el identificador y el numero de parametro que se desea obtener."})}),"\n",(0,i.jsx)(a.h4,{id:"campos-de-estatus",children:"Campos de estatus"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"completado"})," se marcara como 1 si la referencia se digitaliz\xf3 completamente."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"intentos"})," indica cuantas veces la referencia ha sido considerada por el digitalizador para intentar generar dicho documento, en caso de que los intentos sean 7 ya no volver\xe1 a ser considerada la referencia por el digitalizador."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"id_error"})," es el identificador de algun error guardado en la tabla digitalizador_errores para saber espec\xedficamente por qu\xe9 es que el documento no pudo ser digitalizado."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"fecha_ingreso"})," indica cuando fue que la referencia se inserto en bitacora."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"fecha_cargado"})," indica la fecha en cuando el documento se digitalizo correctamente."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.strong,{children:"existente_en_disco"})," indica si el archivo digitalizado ya existia en disco y por lo tanto tuvo que sobrescribir dicho documento."]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"-digarchivo",children:"\ud83d\udcc3 DigArchivo"}),"\n",(0,i.jsx)(a.p,{children:"Para saber si un archivo fue cargado por el digitalizador basta con revisar si la columna digitalizador tiene un valor de 1 (dig_archivo.digitalizador = 1)."}),"\n",(0,i.jsx)(a.h3,{id:"-regenerar-documento",children:"\ud83d\udcc3 Regenerar documento"}),"\n",(0,i.jsx)(a.p,{children:"Si se desea volver a considerar una referencia de bitacora que ya fue generada o tuvo algun tipo de problema para ser digitalizada:\r\nElimine la referencia de bitacora y vuelva a insertarla o actualice los siguientes valores del registro ya existente:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"intentos=0"}),"\n",(0,i.jsx)(a.li,{children:"cargado=0"}),"\n",(0,i.jsx)(a.li,{children:"fecha_cargado=NULL"}),"\n",(0,i.jsx)(a.li,{children:"id_error=NULL"}),"\n",(0,i.jsx)(a.li,{children:"existente_en_disco=NULL"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"-instalaci\xf3n",children:"\ud83d\udcbf Instalaci\xf3n"}),"\n",(0,i.jsx)(a.p,{children:"La versi\xf3n de python utilizada para esta aplicaci\xf3n es Python 3.8.2."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.a,{href:"https://www.python.org/downloads/release/python-382/",children:"Descarga Python 3.8.2"})}),"\n",(0,i.jsx)(a.p,{children:"Se recomienda el uso del IDE de Pycharm Community Edition para un mejor manejo del c\xf3digo fuente de la aplicaci\xf3n."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.a,{href:"https://www.jetbrains.com/pycharm/download/other.html",children:"Enlace de descarga Pycharm Community Edition."})}),"\n",(0,i.jsx)(a.h3,{id:"-manejo-del-entorno-virtual-en-python",children:"\ud83d\udcc3 Manejo del entorno virtual en python"}),"\n",(0,i.jsx)(a.p,{children:"Como buena pr\xe1ctica y para separar el proyecto del digitalizador de otros proyectos hechos en python dentro de la m\xe1quina que est\xe1s utilizando\r\nse recomienda el uso de entornos virtuales."}),"\n",(0,i.jsx)(a.p,{children:"Para crear un entorno virtual primero abre una consola de windows y dirigete a la ubicaci\xf3n de la ruta ra\xedz del proyecto:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:"cd  C:\\proyectos\\app-digitalizador\\\n"})}),"\n",(0,i.jsx)(a.p,{children:"Posteriormente instala la utilidad para crear entornos virtuales en python"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:"pip install virtualenv\n"})}),"\n",(0,i.jsx)(a.p,{children:"Posteriormente ejecuta el siguiente comando para crear un entorno virtual"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:"virtualenv .env\n"})}),"\n",(0,i.jsx)(a.p,{children:"Ahora es necesario que actives el entorno virtual, basta con ejecutar el siguiente comando en la consola (dentro del path de la ruta ra\xedz del proyecto)"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:".env\\Scripts\\activate\n"})}),"\n",(0,i.jsx)(a.p,{children:"Por \xfaltimo ejecuta el sigueinte comando para bajar todas las librerias utilizadas en el proyecto dentro de tu entorno virtual:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:"pip install -r requirements.txt\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Una vez realizados estos pasos solo serciorate de que cada vez que abras el proyecto en Pycharm te reconozca el entorno virtual que acabas de crear.\r\nVease el sigueinte tutorial: ",(0,i.jsx)(a.a,{href:"https://www.jetbrains.com/help/pycharm/creating-virtual-environment.html#env-requirements",children:"Configure a virtual environment"})]}),"\n",(0,i.jsx)(a.h2,{id:"-compilaci\xf3n",children:"\ud83d\udd28 Compilaci\xf3n"}),"\n",(0,i.jsx)(a.p,{children:"Para crear el archivo binario de la aplicaci\xf3n basta con ejecutar el sigueinte comando en consola:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-commandline",children:".env\\\\Scripts\\\\pyinstaller.exe  -F --hidden-import=win32timezone --icon=icon.ico setup.py --clean --version-file=versionfile.txt\n"})}),"\n",(0,i.jsx)(a.h2,{id:"-despliegue",children:"\ud83d\ude80 Despliegue"}),"\n",(0,i.jsxs)(a.p,{children:["En caso de que el digitalizador necesite digitalizar documentos provenientes de un reporte jasper vease la siguiente gu\xeda para instalar el api de reportes jasper.\r\n",(0,i.jsx)(a.a,{href:"/docs/documentacion/productos/api-reportes-jasper",children:"API Jaspers"})]}),"\n",(0,i.jsx)(a.h3,{id:"-habilitar-bouncy-castle-para-firmado-de-documentos",children:"\ud83d\udcc3 Habilitar Bouncy Castle para firmado de documentos"}),"\n",(0,i.jsxs)(a.p,{children:["Instalar la versi\xf3n de .NET Framework 4.7.2 para el firmado digital de dodas por medio de bouncy castle ",(0,i.jsx)(a.a,{href:"https://dotnet.microsoft.com/en-us/download/dotnet-framework/net472",children:"https://dotnet.microsoft.com/en-us/download/dotnet-framework/net472"}),"."]}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Habilitar DLLs (En caso de aplicar)"})}),"\n",(0,i.jsx)(a.p,{children:"Hay veces en la que la version de windows requiere que se habiliten los dlls de forma manual, si es el caso en el que en el servidor en donde se esta instalando el digitalizador no tiene esta opci\xf3n, favor de ignorar este paso."}),"\n",(0,i.jsx)(a.p,{children:"Dirijase a la carpeta en donde se encuentra los archivos dlls (Ruta raiz del digitalizador / dlls / aduasis-tools) y siga los siguientes pasos en cada uno de los dlls existentes."}),"\n",(0,i.jsx)(a.p,{children:"Click derecho sobre el dll y dar en propiedades."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/Y6uqxnL.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Damos click la casilla unblock y damos clic en aplicar."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/ZtbhrlY.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Repetir el paso con cada uno de los Dlls existentes en la carpeta."}),"\n",(0,i.jsx)(a.h3,{id:"-variables-de-entorno",children:"\ud83d\udcc3 Variables de entorno"}),"\n",(0,i.jsx)(a.p,{children:"Es necesario crear las siguientes variables de entorno:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"aduasis_digitalizador (Ruta ra\xedz en donde se encuentra el digitalizador)"}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/S1XMziK.png",alt:"image.png"})}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"JWT_KEY (Key para la generacion de JWT para consultar a la api de jaspers, si ya existia no crear otra)"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"-archivo-de-configuraci\xf3n",children:"\ud83d\udcc3 Archivo de configuraci\xf3n"}),"\n",(0,i.jsx)(a.p,{children:"El archivo de configuraci\xf3n es config.yaml y se debe encontrar en la ruta ra\xedz del digitalizador establecida en la variable de entorno."}),"\n",(0,i.jsx)(a.p,{children:"El archivo en cuesti\xf3n es un archivo de configuraci\xf3n en formato YAML, en donde el contenido es el siguiente:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:'connection:\r\n  driver: "SQL Server"\r\n  server: "servidor"\r\n  user: "usuario"\r\n  password: "password"\r\n  database: "aduasism3"\r\n\r\ndigitalizadores_vucem:\r\n  acuse_cove_pdf: off\r\n  acuse_edocument_pdf:\r\n    estatus: off\r\n    unir_con_edocument: off\r\n  cove_respuesta_xml: off\r\n  cove_xml:\r\n    estatus: off\r\n    desencadenador: off\r\n  cove_pdf: off\r\n  doda_alta_consulta_xml: off\r\n  doda_estatus_consulta_xml: off\r\n  doda_estatus_respuesta_xml: off\r\n  edocument_consulta_xml: off\r\n  edocument_no_certifica_pdf: off\r\n  edocument_no_certifica_xml: off\r\n  edocument_respuesta_xml: off\r\n  pedimento_completo_xml:\r\n    estatus: off\r\n    desencadenador: off\r\n  pedimento_partida_xml: off\r\n\r\ndigitalizadores_generados:\r\n  archivo_pago_electronico: off\r\n  archivo_respuesta_pago_electronico: off\r\n  archivo_respuesta_validacion_shcp: off\r\n  archivo_validacion_shcp: off\r\n  numeros_parte_oc_xml: off\r\n\r\ndigitalizadores_jasper:\r\n  acuse_cove_pdf: off\r\n  acuse_edocument_pdf: off\r\n  anexo_hoja_calculo_pdf: off\r\n  cove_pdf: off\r\n  doda_pdf: off\r\n  hoja_calculo_pdf: off\r\n  manifestacion_valor_pdf: off\r\n  nota_revision_pdf: off\r\n  orden_carga_pdf: off\r\n  pedimento_completo_pdf: off\r\n  pedimento_informativo_pdf: off\r\n  pedimento_simplificado_pdf: off\r\n  remesa_pdf: off\r\n  series_cove_xls: off\r\n \r\napi_jasper_endpoint: "http://localhost:8090"\r\nruta_imagenes_jasper: "C:\\\\SISNL\\\\TPLaser\\\\Reportes\\\\media\\\\"\n'})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Nodo de conexi\xf3n a la base de datos"})}),"\n",(0,i.jsx)(a.p,{children:"Aqu\xed se establecer\xe1 la informaci\xf3n necesaria para que el digitalizador se conecte a la base de datos de aduasism3:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:'connection:\r\n  driver: "SQL Server"\r\n  server: "servidor"\r\n  user: "usuario"\r\n  password: "password"\r\n  database: "aduasism3"\n'})}),"\n",(0,i.jsxs)(a.p,{children:["Para conocer el driver es necesario ver el siguiente tutorial: ",(0,i.jsx)(a.a,{href:"https://documentation.help/howtosql/ht_cliepcc_4qpl.htm",children:"https://documentation.help/howtosql/ht_cliepcc_4qpl.htm"})]}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Nodo de encendido y apagado de digitalizadores"})}),"\n",(0,i.jsx)(a.p,{children:"Todos los nodos encontrados dentro de digitalizadores_vucem, digitalizadores_generados y digitalizadores_jasper son banderas para apagar o encender los digitalizadores."}),"\n",(0,i.jsx)(a.p,{children:"NOTA: Abran casos en donde el digitalizador en concreto tenga configuraciones adicionales a parte de su estatus, un ejemplo es acuse_edocument_pdf que permite unir este documento con otro ya existente."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:"digitalizadores_vucem:\r\n  acuse_edocument_pdf:\r\n    estatus: on\r\n    unir_con_edocument: on\n"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Configuraci\xf3n a la API Jasper"})}),"\n",(0,i.jsx)(a.p,{children:"Es necesario configurar el endpoint en el que se va a tomar en cuenta para la generaci\xf3n de reportes y de acuerdo al tutorial de instalaci\xf3n de la jasper api es necesario tomar el endpoint del api REST, ejemplo:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:'api_jasper_endpoint: "http://localhost:8090"\n'})}),"\n",(0,i.jsx)(a.p,{children:"Por otra parte hay reportes que necesitan la ruta en donde se encuentran las imagenes de los reportes del digitalizador, por lo que es necesario establecerla explicitamente."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-yaml",children:'ruta_imagenes_jasper: "C:\\\\SISNL\\\\TPLaser\\\\Reportes\\\\media\\\\"\n'})}),"\n",(0,i.jsx)(a.h3,{id:"-instalaci\xf3n-de-acuerdo-a-modo",children:"\ud83d\udcc3 Instalaci\xf3n de acuerdo a modo"}),"\n",(0,i.jsx)(a.h4,{id:"consola",children:"Consola"}),"\n",(0,i.jsx)(a.p,{children:"Haga click derecho sobre el binario setup.exe y cree un acceso directo."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/saPJSO2.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Haga click derecho sobre el acceso directo y de clic en propiedades."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/1238cP8.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Asegurese que en el campo target al final agregue un espacio y el parametro console, tal que quede de la siguiente forma:"}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/mChVae8.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Por \xfaltimo abra el acceso directo y compruebe que se encuentre el digitalizador funcionando (vease la consola y la carpeta logs que se encuentra en la carpeta ra\xedz del digtializador):"}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/A1IvJAR.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.h4,{id:"windows-service",children:"Windows service"}),"\n",(0,i.jsx)(a.p,{children:"Abra una consola en modo administrador, dirijase a la carpeta ra\xedz en donde se encuentra el digitalizador y ejecute el comando setup install, tal que as\xed:"}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/0XMvPUM.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Una vez instalado se ver\xe1 la frase Service installed, lo que queire decir que ya podr\xe1 visualizar el servicio en windows."}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.img,{src:"https://i.imgur.com/6S1tOu9.png",alt:"image.png"})}),"\n",(0,i.jsx)(a.p,{children:"Es aqu\xed en donde podr\xe1 configurar el inicio de la aplicaci\xf3n, ya sea manual o de inicio autom\xe1tico."}),"\n",(0,i.jsx)(a.p,{children:"Para ver el comportamiendo del digitalizador basese en la carpeta de logs de la ruta ra\xedz del digitalizador."})]})}function p(e={}){const{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},1151:(e,a,n)=>{n.d(a,{Z:()=>s,a:()=>d});var i=n(7294);const r={},o=i.createContext(r);function d(e){const a=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(o.Provider,{value:a},e.children)}}}]);