"use strict";(self.webpackChunkaduasis_docs=self.webpackChunkaduasis_docs||[]).push([[1398],{4070:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var i=a(5893),s=a(1151);const r={},o="\ud83d\udda8 API Jaspers",c={id:"documentacion/productos/api-reportes-jasper",title:"\ud83d\udda8 API Jaspers",description:"Ir al repositorio en Github (Es necesario tener permisos)",source:"@site/doc/documentacion/productos/2-api-reportes-jasper.md",sourceDirName:"documentacion/productos",slug:"/documentacion/productos/api-reportes-jasper",permalink:"/docs/documentacion/productos/api-reportes-jasper",draft:!1,unlisted:!1,editUrl:"https://github.com/aduasis-logistica/aduasis-logistica.github.io/tree/main/doc/documentacion/productos/2-api-reportes-jasper.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"documentacionSidebar",previous:{title:"\ud83d\uddc3 Digitalizador",permalink:"/docs/documentacion/productos/digitalizador"},next:{title:"\ud83d\udcbb Portal SPA",permalink:"/docs/documentacion/productos/portal-spa"}},t={},l=[{value:"\u2139\ufe0f \xbfQu\xe9 es?",id:"\u2139\ufe0f-qu\xe9-es",level:2},{value:"\ud83d\udcbf Instalaci\xf3n",id:"-instalaci\xf3n",level:2},{value:"\ud83d\udd28 Compilaci\xf3n",id:"-compilaci\xf3n",level:2},{value:"\ud83d\ude80 Despliegue",id:"-despliegue",level:2},{value:"Archivos e instaladores necesarios",id:"archivos-e-instaladores-necesarios",level:3},{value:"Configuraci\xf3n de variables de entorno",id:"configuraci\xf3n-de-variables-de-entorno",level:3},{value:"Comprobar funcionamiento de api jasper",id:"comprobar-funcionamiento-de-api-jasper",level:3},{value:"Instalar API  como servicio de windows",id:"instalar-api--como-servicio-de-windows",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"-api-jaspers",children:"\ud83d\udda8 API Jaspers"}),"\n",(0,i.jsx)(n.admonition,{title:"Enlace a repositorio",type:"info",children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://github.com/aduasis-logistica/api-reportes-jasper",children:"Ir al repositorio en Github (Es necesario tener permisos)"})})}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.strong,{children:"\ud83e\uddea Stack tecnol\xf3gico"})}),(0,i.jsx)(n.p,{children:"Lenguajes de programaci\xf3n:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Java 17"}),"\n"]}),(0,i.jsx)(n.p,{children:"IDEs/Editores recomendados:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"IntelliJ Community Edition"}),"\n"]}),(0,i.jsx)(n.p,{children:"\xbfQu\xe9 necesito saber?"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Maven se utiliza como build tool"}),"\n",(0,i.jsx)(n.li,{children:"Springboot es el framework usado para el desarrollo de la API"}),"\n",(0,i.jsx)(n.li,{children:"El m\xe9todo de autenticaci\xf3n de esta API es por medio de JWT"}),"\n"]})]}),"\n",(0,i.jsx)(n.h2,{id:"\u2139\ufe0f-qu\xe9-es",children:"\u2139\ufe0f \xbfQu\xe9 es?"}),"\n",(0,i.jsx)(n.p,{children:"Su funci\xf3n es proporcionar un API de tipo REST a usuarios finales y aplicaciones para la generaci\xf3n de reportes hechos por medio de Jasper Reports."}),"\n",(0,i.jsx)(n.h2,{id:"-instalaci\xf3n",children:"\ud83d\udcbf Instalaci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.jetbrains.com/idea/download/?section=windows",children:"Descargue el IDE de IntelliJ Community Edition"})}),"\n",(0,i.jsx)(n.p,{children:"Una vez descargado importe la carpeta del proyecto"}),"\n",(0,i.jsx)(n.p,{children:"Agregue la siguiente configuraci\xf3n en IntelliJ para ejecutar la aplicaci\xf3n, haciendo clic en edit configurations:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/C3PBfiV.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Agregar nueva configuraci\xf3n:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/LNHHSvD.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Seleccionamos aplicaci\xf3n:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/Cql4hUb.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Y dejamos la configuraci\xf3n de esta manera:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/n1H7gVq.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Antes de ejecutar la aplicaci\xf3n cierre IntelliJ y agregue las siguientes variables de entorno:"}),"\n",(0,i.jsx)(n.p,{children:"Establecer la variable las siguientes variables de entorno:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'RUTA_REPORTES (Si el servidor en donde se instala el api jasper esta en donde se encuentra el server de portal, se recomienda que la ruta deba coincidir con la que se encuentra en la base de datos como webApliacion.path_reportes). Ejemplo de ruta valida: "C:\\SISNL\\TPLaser\\Reportes"'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"CONNECTION_STRING_JAVA (connection string para establecer conexi\xf3n a la base de datos a aduasism3). Ejemplo: jdbc:sqlserver://mi-servername;databaseName=aduasism3;encrypt=true;trustServerCertificate=true;user=sa;password=sa"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["JWT_KEY\r\nPuedes usar para crear una propia ",(0,i.jsx)(n.a,{href:"https://jwtsecret.com/generate",children:"https://jwtsecret.com/generate"}),".\r\nNOTA: este JWT no debe ser compartido o expuesto fuera de esta variable de entorno por cuestiones de seguridad."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Temrinado esto, vuelva a abrir intelliJ y ejecute el proyecto con la configuraci\xf3n agregada haciendo clic en el bot\xf3n run."}),"\n",(0,i.jsx)(n.h2,{id:"-compilaci\xf3n",children:"\ud83d\udd28 Compilaci\xf3n"}),"\n",(0,i.jsx)(n.p,{children:"gregue la siguiente configuraci\xf3n en IntelliJ para compilar la aplicaci\xf3n, haciendo clic en edit configurations:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/C3PBfiV.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Agregar nueva configuraci\xf3n:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/LNHHSvD.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Seleccionamos maven:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/eBo7KNy.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"La configuraci\xf3n debe quedar as\xed:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/j1mUPBV.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Nos aseguramos que tengamos seleccionada esa configuraci\xf3n y damos en build project:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/KHBnFys.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Por ultimo damos clic en run:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/DK1IhzC.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Como resultado nos arrojara en los logs la ruta del compilado .jar que se utiliza para deplegar la aplicaci\xf3n en el servidor."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/r5Hdfu7.png",alt:""})}),"\n",(0,i.jsx)(n.h2,{id:"-despliegue",children:"\ud83d\ude80 Despliegue"}),"\n",(0,i.jsx)(n.h3,{id:"archivos-e-instaladores-necesarios",children:"Archivos e instaladores necesarios"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Instale la siguiente versi\xf3n de java JRE 17",(0,i.jsx)(n.a,{href:"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html",children:"Java Archive Downloads - Java SE 17"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Instale la siguiente utileria (archivo exe) para correr el compilado .jar como servicio de Windows ",(0,i.jsx)(n.a,{href:"https://github.com/winsw/winsw",children:"winsw"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"En caso de requerir un poco m\xe1s de informaci\xf3n vease este tutorial:"}),"\n",(0,i.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/zxM6ppSGeJY?si=-SRwJEKPuvQXgKhQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}),"\n",(0,i.jsx)(n.p,{children:"Cree una carpeta en donde se va a guardar los binarios del api de jasper, por ejemplo, C:\\SISNL\\api-jasper\\ podr\xeda ser una ruta ideal sin espacios y asegurese de tener estos tres archivos (api.jar, setup.exe y setup.xml):"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"API Jasper Required",src:a(3054).Z+"",width:"252",height:"133"})}),"\n",(0,i.jsx)(n.p,{children:"Una vez teniendo estos archivos edite el archivo setup.xml y serciorese de que la ruta en donde se encuentra el archivo java.exe de la version 17 es correcta."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"API Jasper config",src:a(8770).Z+"",width:"705",height:"289"})}),"\n",(0,i.jsx)(n.p,{children:"NOTA: en caso de que se desee cambiar el puerto de la api hagalo desde el criterio \u2014server.port del nodo arguments en setup.xml."}),"\n",(0,i.jsx)(n.h3,{id:"configuraci\xf3n-de-variables-de-entorno",children:"Configuraci\xf3n de variables de entorno"}),"\n",(0,i.jsx)(n.p,{children:"Establecer la variable las siguientes variables de entorno:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'RUTA_REPORTES (Si el servidor en donde se instala el api jasper esta en donde se encuentra el server de portal, se recomienda que la ruta deba coincidir con la que se encuentra en la base de datos como webApliacion.path_reportes). Ejemplo de ruta valida: "C:\\SISNL\\TPLaser\\Reportes"'}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"CONNECTION_STRING_JAVA (connection string para establecer conexi\xf3n a la base de datos a aduasism3). Ejemplo: jdbc:sqlserver://mi-servername;databaseName=aduasism3;encrypt=true;trustServerCertificate=true;user=sa;password=sa"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["JWT_KEY\r\nPuedes usar para crear una propia ",(0,i.jsx)(n.a,{href:"https://jwtsecret.com/generate",children:"https://jwtsecret.com/generate"}),".\r\nNOTA: este JWT no debe ser compartido o expuesto fuera de esta variable de entorno por cuestiones de seguridad."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"comprobar-funcionamiento-de-api-jasper",children:"Comprobar funcionamiento de api jasper"}),"\n",(0,i.jsx)(n.p,{children:"Abra una consola y dirijase a la ruta en donde se encuentra guardada la aplicaci\xf3n"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd C:\\SISNL\\ruta-donde-este-la-api\\\n"})}),"\n",(0,i.jsx)(n.p,{children:"Despu\xe9s ejecute el siguiente comando:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"java -jar api.jar --server.port=8033\n"})}),"\n",(0,i.jsx)(n.p,{children:"En caso de que la aplicaci\xf3n funcione correctamente debe de poder ser capaz de ver el siguiente mensaje al ingresar desde el navegador a la ruta localhost:8033/info"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/SiDIQxq.png",alt:"image.png"})}),"\n",(0,i.jsx)(n.p,{children:"Si la API responde con el n\xfamero de versi\xf3n cierre la consola y proceda a instalar la aplicaci\xf3n en forma de servicio de windows."}),"\n",(0,i.jsx)(n.h3,{id:"instalar-api--como-servicio-de-windows",children:"Instalar API  como servicio de windows"}),"\n",(0,i.jsx)(n.p,{children:"Abra una consola con permisos de administrador y dirijase a la carpeta en donde se encuentran los binarios:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd C:\\SISNL\\ruta-donde-este-la-api\\\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ejecute el comando setup install"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"setup install\n"})}),"\n",(0,i.jsx)(n.p,{children:"Y por \xfaltimo el comando setup start:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"setup start\n"})}),"\n",(0,i.jsx)(n.p,{children:"Notar\xe1 que existir\xe1 un servicio nuevo llamado API Jasper:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/yE3LRLE.png",alt:"image.png"})}),"\n",(0,i.jsx)(n.p,{children:"Compruebe que la aplicaci\xf3n funciona correctamente ingresando desde localhost:[puerto establecido en setup.xml]/info"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/M0dMgP7.png",alt:"image.png"})}),"\n",(0,i.jsx)(n.p,{children:"Por \xfaltimo asegurese que el arranque de esta API se encuentra de forma autom\xe1tica haciendo click sobre el servicio y en propiedades."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/VlIZDhL.png",alt:"image.png"})}),"\n",(0,i.jsx)(n.p,{children:"Asegurese de tener marcado la opci\xf3n \u201cAutomatic\u201d."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://i.imgur.com/1PyfaXP.png",alt:""})})]})}function p(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},3054:(e,n,a)=>{a.d(n,{Z:()=>i});const i=a.p+"assets/images/api-jasper-required-87c640a19a2173c4785e1269cbc6e482.png"},8770:(e,n,a)=>{a.d(n,{Z:()=>i});const i=a.p+"assets/images/api_jasper_setup_xml-a01ca986be2c9c0fbd9cb4cf67038b62.png"},1151:(e,n,a)=>{a.d(n,{Z:()=>c,a:()=>o});var i=a(7294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);